<header>
  <heading></heading>
</header>
<section id="sidebar">
  <sidebar></sidebar>
</section>
<section id="main">
    <div class="row" id="banner">
        <div class="banner">
          <h1>Sessies</h1>
        </div>
    </div>
    <div class="row" id="newSessionRow">
        <div class="col-xs-9"></div>
        <div class="col-xs-3">
          <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#sessionModal">Nieuwe sessie</button>
        </div>
    </div>
    <div class="row sessionsoverview">
        <div class="col-xs-6">
            <h2>  Mijn sessies</h2>
            <ul id="sessionUl" *ngFor="#session of sessions">
                <li id="sessionLi">
                    <button class="btn btn-info btn-lg" (click)="onSelect(session)">{{session.description}}</button>
                </li>
            </ul>
        </div>
        <div class="col-xs-6" [hidden]="sessionDetailHidden">
            <h2>Sessiedetails</h2>
            <div class="row">
                <div class="col-xs-12">
                    <img src="../../resources/images/descriptionicon.png" class="descriptionicon" /> {{sessionDetail.description}}<br /><br />
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <img src="../../resources/images/linkicon.png" class="sessionlink" /> {{ sessionDetail.link }}
                    <br /><br />
                    <b>Type:</b> {{ sessionDetail.type | sessionTypePipe }}<br />
                    <b>Subthema:</b> {{ sessionDetail.subtheme }}<br />
                    <b>Aantal deelnemers:</b> 4<br /><br />
                </div>
            </div>
            <div class="row">
                <div class="col-xs-6 start">
                    <b>Start:</b> {{ sessionDetail.start | date:'dd MMMM yyyy'}} <br />
                </div>
                <div class="col-xs-6 end">
                    <b>Einde:</b> {{ sessionDetail.end | date:'dd MMMM yyyy'}} <br />
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <div class="progress">
                        <div class="progress-bar progress-bar-success" role="progressbar" aria-valuemin="0" aria-valuemax="100" [style]=progress>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row sessionsbuttons">
                <div class="col-xs-4">
                    <button type="button" class="btn btn-info" (click)="playOrAnalyseSession(sessionDetail)">{{sessionVerlopen}}</button>
                </div>
                <div class="col-xs-4">
                    <button type="button" class="btn btn-info" (click)="cloneSession(sessionDetail)">Kopieer</button>
                </div>
                <div class="col-xs-4">
                    <button type="button" class="btn btn-info" (click)="deleteSession(sessionDetail)">Verwijder</button>
                </div>
            </div>
        </div>
    </div>
    <div class="row sesssionsfooter"></div>

    <!-- Modal -->
    <div id="sessionModal" class="modal" role="form">
        <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Nieuwe organisatie</h4>
        </div>
        <div class="modal-body">

            <!-- Create organisation form -->
            <form (ngSubmit)="onSubmit()" #sessionForm="ngForm">
                <div class="form-group">
                    <label for="description">Omschrijving</label>
                    <input type="text" class="form-control" required=""
                            [(ngModel)]="model.description"
                            ngControl="description" #description="ngForm">
                    <div [hidden]="description.valid || description.pristine || description.untouched" class="alert alert-danger">
                        De nieuwe sessie vereist een omschrijving.
                    </div>
                </div>
                <div class="form-group">
                    <label for="sessionType">Sessietype</label>
                    <select class="form-control" [(ngModel)]="model.type">
                        <option *ngFor="#type of types" [value]="type">{{ type | sessionTypePipe }}</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="subtheme">Subthema</label>
                    <select class="form-control" [(ngModel)]="model.subtheme">
                        <option *ngFor="#subtheme of subthemes" [value]="subtheme">{{ subtheme }}</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="startDate">Start datum</label>
                    <input type="date" class="form-control" [(ngModel)]="model.start"/>
                </div>
                <div class="form-group">
                    <label for="endDate">Eind datum</label>
                    <input type="date" class="form-control" [(ngModel)]="model.end"/>
                </div>
                <div class="form-group">
                    <label for="users">Gebruikers toevoegen</label>
                    <br />
                    <input type="text" name="users" class="form-control" id="users" [(ngModel)]="model.users">
                </div>
                <button type="submit" class="btn btn-info" [disabled]="!sessionForm.form.valid" data-toggle="modal" data-target="#sessionModal">Maak sessie aan</button>
                <button type="button" class="btn btn-info" data-dismiss="modal">Sluit</button>
            </form>
        </div>
        </div>
        </div>
    </div>
</section>